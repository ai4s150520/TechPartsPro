from django.core.management.base import BaseCommand\nfrom django.contrib.auth import get_user_model\nfrom catalog.tasks import process_bulk_upload\nimport os\n\nUser = get_user_model()\n\nclass Command(BaseCommand):\n    help = 'Test bulk upload with sample CSV'\n\n    def add_arguments(self, parser):\n        parser.add_argument('--user-email', type=str, default='seller@example.com')\n        parser.add_argument('--csv-path', type=str, default='sample_bulk_upload.csv')\n\n    def handle(self, *args, **options):\n        user_email = options['user_email']\n        csv_path = options['csv_path']\n        \n        try:\n            user = User.objects.get(email=user_email)\n        except User.DoesNotExist:\n            self.stdout.write(self.style.ERROR(f'User {user_email} not found'))\n            return\n        \n        if not os.path.exists(csv_path):\n            self.stdout.write(self.style.ERROR(f'CSV file {csv_path} not found'))\n            return\n        \n        self.stdout.write(f'Processing {csv_path} for user {user.email}...')\n        \n        try:\n            result = process_bulk_upload(csv_path, user.id)\n            self.stdout.write(self.style.SUCCESS(f'Result: {result}'))\n        except Exception as e:\n            self.stdout.write(self.style.ERROR(f'Error: {e}'))\n